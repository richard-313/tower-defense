<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medieval Tower Defense</title>
    <link rel="stylesheet" href="styles.css">
    <!-- PixiJS einbinden -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.3.2/pixi.min.js"></script>
    <!-- Globale Hilfsfunktionen (z.B. drawStar) -->
    <script src="utils.js"></script> <!-- Annahme: Eine Datei für globale Helfer -->
</head>

<body>
    <div class="game-container">
        <h1>Medieval Defense</h1>
        <div class="map-selection">
            <button id="map1" class="map-button selected">Grüntal</button>
            <button id="map2" class="map-button">Felspass</button>
            <button id="map3" class="map-button">Sumpfland</button>
        </div>
        <div class="game-info">
            <div class="resource-info">
                <div>Leben: <span id="lives">10</span></div>
                <div>Gold: <span id="gold">100</span></div>
                <div>Welle: <span id="wave">0</span></div>
            </div>
            <div class="wave-timer">
                <span id="wave-countdown">Bereit</span> <!-- Vereinfacht -->
                <button id="startWave" class="start-button">Welle starten</button>
            </div>
        </div>
        <!-- PixiJS-Container -->
        <div id="gameContainer" class="game-canvas-container"></div>

        <div id="upgradePanel" class="upgrade-panel">
            <div id="towerInfo" class="tower-info"></div>
            <div id="currentLevel" class="upgrade-progress">
                <!-- Inhalt wird von JS generiert -->
            </div>
            <div class="upgrade-buttons">
                <!-- Spans sind noch da, aber Text wird dynamisch gesetzt -->
                <button id="upgradeDirectly" class="upgrade-button">
                    Upgrade <span id="targetLevel" style="display: none;"></span>
                    <span id="upgradeCost" style="display: none;"></span>
                </button>
                <button id="sellTower" class="upgrade-button sell-button">
                    Verkaufen (<span id="sellValue">0</span> G)
                </button>
                <button id="closeUpgrade" class="upgrade-button close-button">Schließen</button>
            </div>
        </div>

        <!-- Radiales Turmauswahl-Menü -->
        <div id="radialTowerMenu" class="radial-menu">
            <!-- Optionen wie zuvor -->
            <div id="radialBasicTower" class="tower-option-radial" data-type="basic" data-cost="25">
                <div class="tower-icon basic-tower"></div>
            </div>
            <div id="radialSniperTower" class="tower-option-radial" data-type="sniper" data-cost="50">
                <div class="tower-icon sniper-tower"></div>
            </div>
            <div id="radialSlowTower" class="tower-option-radial" data-type="slow" data-cost="40">
                <div class="tower-icon slow-tower"></div>
            </div>
            <div id="radialBombTower" class="tower-option-radial" data-type="bomb" data-cost="75">
                <div class="tower-icon bomb-tower"></div>
            </div>
            <div id="radialLightningTower" class="tower-option-radial" data-type="lightning" data-cost="60">
                <div class="tower-icon lightning-tower"></div>
            </div>
            <div id="radialCancelButton" class="tower-option-cancel">
                <div class="cancel-icon">✕</div>
            </div>
        </div>
    </div>

    <!-- Globale Configs -->
    <script src="config/enemyTypes.js"></script>
    <script src="config/mapConfig.js"></script>
    <script src="config/mapDesigns.js"></script>
    <script src="config/towerTypes.js"></script>

    <!-- Grafik-Skripte (Gegner) -->
    <script src="graphics/enemies/drawNormal.js"></script>
    <script src="graphics/enemies/drawFast.js"></script>
    <script src="graphics/enemies/drawTank.js"></script>
    <script src="graphics/enemies/drawBoss.js"></script>
    <script src="graphics/enemies/drawImmune.js"></script>
    <script src="graphics/enemies/drawRegen.js"></script>

    <!-- Kern-Skripte -->
    <script src="map.js"></script>
    <script src="enemies.js"></script>
    <script src="towers.js"></script> <!-- Wichtig: Enthält jetzt globale drawStar Funktion -->
    <script src="ui.js"></script>
    <script src="game.js"></script>
</body>

</html>